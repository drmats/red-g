<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Modules</li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-redux.html">redux</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-redux.html#~actionCreators">actionCreators</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-redux.html#~bindActionCreator">bindActionCreator</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-redux.html#~bindActionCreators">bindActionCreators</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-redux.html#~bindActionCreatorsTree">bindActionCreatorsTree</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-redux.html#~createReducer">createReducer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-redux.html#~defineActionCreator">defineActionCreator</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-redux.html#~emptyActionCreators">emptyActionCreators</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-redux.html#~isACWithPayload">isACWithPayload</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-redux.html#~isWithPayload">isWithPayload</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-redux.html#~payloadActionCreators">payloadActionCreators</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-redux.html#~sliceReducer">sliceReducer</a></span></li>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>red-g</h1>
<p>Statically typed actions and reducers for <strong><a href="https://redux.js.org/">redux</a></strong>.</p>
<p><a href="https://www.npmjs.com/package/red-g"><img src="https://img.shields.io/npm/v/red-g.svg" alt="npm version"></a>
<a href="https://github.com/drmats/red-g"><img src="https://img.shields.io/github/languages/code-size/drmats/red-g.svg" alt="GitHub code size"></a>
<a href="https://github.com/drmats/red-g"><img src="https://img.shields.io/github/tag/drmats/red-g.svg" alt="GitHub tag"></a>
<a href="https://www.npmjs.com/package/red-g"><img src="https://img.shields.io/npm/l/red-g.svg" alt="npm license"></a></p>
<pre class="prettyprint source lang-bash"><code>$ npm i red-g
</code></pre>
<br />
<h2>ok, what's in here and how to use it?</h2>
<ol>
<li>
<p>actions as non-const enums (example <code>app/action_type.ts</code> file):</p>
<pre class="prettyprint source lang-typescript"><code>export enum AppActionType {
    RESET = &quot;App/RESET&quot;,
    READY = &quot;App/READY&quot;,
    NOT_READY = &quot;App/NOT_READY&quot;,
    DELAYED = &quot;App/DELAYED&quot;,
    CLEAR_ERROR = &quot;App/CLEAR_ERROR&quot;,
}
</code></pre>
</li>
<li>
<p>easy action creators - define only those carrying some payload, empty
ones are defined automatically (example <code>app/action.ts</code> file):</p>
<pre class="prettyprint source lang-typescript"><code>import { actionCreators } from &quot;red-g&quot;;
import { AppActionType } from &quot;./action_type&quot;;

export default actionCreators(AppActionType, {
    READY: (error?: string) => ({ error }),
    DELAYED: (condition: boolean) => ({ condition }),
});
</code></pre>
</li>
<li>
<p>slice of state (<code>app/state.ts</code>):</p>
<pre class="prettyprint source lang-typescript"><code>export default {
    // usual stuff
    ready: false,
    delayed: false,

    // last application error - example use
    // of &quot;type predicate&quot; matcher
    // (matching actions by payload content)
    error: null as string | null,

    // how many actions of this type
    // has been spawned? - somewhat artificial
    // example of &quot;boolean&quot; matcher usage
    // (matching actions using string
    // operations on their type)
    actionCount: 0,
};
</code></pre>
</li>
<li>
<p>fantastic slice reducers (example <code>app/reducer.ts</code> file) with matchers:</p>
<pre class="prettyprint source lang-typescript"><code>import type { Action } from &quot;red-g&quot;;
import {
    isStringActionType,
    isWithPayload,
    sliceReducer,
} from &quot;red-g&quot;;
import initState from &quot;./state&quot;;
import app from &quot;./action&quot;;

export default sliceReducer(initState) (
    (slice) => slice
        .handle(app.RESET, () => initState)

        // this action can carry `error` payload
        // but we're not interested in it (for now)
        .handle(app.READY, (state) => ({
            ...state, ready: true,
        })

        // this action is not carrying any payload
        // and was automatically defined by
        // call to `actionCreators()`
        .handle(app.NOT_READY, (state) => ({
            ...state, ready: false,
        })

        // this action is carrying simple payload and we can
        // destructure it immediately
        .handle(app.DELAYED, (state, { condition }) => ({
            ...state, delayed: condition,
        })

        // same situation as with `app.NOT_READY`
        // (shown here for completness of the example)
        .handle(app.CLEAR_ERROR, (state) => ({
            ...state, error: null,
        })

        // match all actions that carry payload with
        // `error` key (&quot;type predicate&quot; matcher)
        .match(
            (action): action is Action&lt;{ error: string }> =>
                isWithPayload(action) && action.payload.error,
            (state, { error }) => ({
                ...state, error,
            }),
        )

        // match all actions whose `type` field starts with
        // `App/` prefix (&quot;boolean&quot; matcher)
        .match(
            (action) =>
                isStringActionType(action) &&
                    action.type.startsWith(&quot;App/&quot;),
            (state) => ({
                ...state, actionCount: state.actionCount + 1,
            }),
        ),
);
</code></pre>
</li>
<li>
<p>now, you can combine all of your slice reducers (and actions and thunks...)
into nice trees (as you do usually) - example <code>state_logic.ts</code> file:</p>
<pre class="prettyprint source lang-typescript"><code>import appAction from &quot;./app/action&quot;;
import appReducer from &quot;./app/reducer&quot;;

export const action = {
    app: appAction,
    // ... and others
};

export const reducer = {
    app: appReducer,
    // ... and others
};
</code></pre>
</li>
<li>
<p>slice reducers are compatible with regular redux flow:</p>
<pre class="prettyprint source lang-typescript"><code>import {
    createStore,
    combineReducers,
} from &quot;redux&quot;;
import {
    bindActionCreatorsTree,
} from &quot;red-g&quot;;
import {
    action,
    reducer,
} from &quot;./state_logic&quot;;

const rootReducer = combineReducers(reducer);

// redux store creation
const store = createStore(
    rootReducer,
    // ... and other usual stuff
);

// bound actions tree
const act = bindActionCreatorsTree(
    action, store.dispatch,
);
</code></pre>
</li>
</ol>
<p>There's more to be happy about if you use
<a href="https://code.visualstudio.com/docs/editor/intellisense">IntelliSense</a>.</p>
<br />
<h2>can I use <a href="https://immerjs.github.io/immer/">immer</a>?</h2>
<p>Sure! <a href="https://immerjs.github.io/immer/curried-produce">Curried producers</a>
are supported out of the box:</p>
<pre class="prettyprint source lang-typescript"><code>import type { Action } from &quot;red-g&quot;;
import {
    isWithPayload,
    sliceReducer,
} from &quot;red-g&quot;;
import produce from &quot;immer&quot;;
import initState from &quot;./state&quot;;
import app from &quot;./action&quot;;

export default sliceReducer(initState) (
    (slice) => slice
        .handle(app.RESET, () => initState)

        .handle(app.READY, produce((draft) => {
            draft.ready = true;
        })

        .handle(app.DELAYED, produce((draft, { condition }) => {
            draft.delayed = condition;
        })

        .match(
            (action): action is Action&lt;{ error: string }> =>
                isWithPayload(action) && action.payload.error,
            produce((draft, payload) => {
                draft.error = payload.error;
            }),
        ),
);
</code></pre>
<br />
<h2>documentation</h2>
<blockquote>
<p><a href="https://drmats.github.io/red-g/">API Reference</a></p>
</blockquote>
<br />
<h2>namespace</h2>
<h3><strong>static</strong> redux</h3>
<pre class="prettyprint source lang-javascript"><code>redux
</code></pre>
<blockquote>
<pre class="prettyprint source lang-javascript"><code>{ actionCreators: [Function: actionCreators],
  bindActionCreator: [Function: bindActionCreator],
  bindActionCreators: [Function: bindActionCreators],
  bindActionCreatorsTree: [Function: bindActionCreatorsTree],
  createReducer: [Function: createReducer],
  defineActionCreator: [Function: defineActionCreator],
  emptyActionCreators: [Function: emptyActionCreators],
  isWithPayload: [Function: isWithPayload],
  payloadActionCreators: [Function: payloadActionCreators],
  sliceReducer: [Function: sliceReducer] }
</code></pre>
</blockquote>
<br />
<h2>notes</h2>
<p>Go ahead and <a href="https://github.com/drmats/red-g/issues/new">file an issue</a>
or <a href="https://github.com/drmats/red-g/pulls">submit a fresh PR</a>
if you found a bug 🐞.</p>
</br>
<h2>support</h2>
<p>You can support this project via <a href="https://learn.stellar.org">stellar</a> network:</p>
<ul>
<li>Payment address: <a href="https://keybase.io/xcmats">xcmats*keybase.io</a></li>
<li>Stellar account ID: <a href="https://keybase.io/xcmats/sigchain#d0999a36b501c4818c15cf813f5a53da5bfe437875d92262be8d285bbb67614e22"><code>GBYUN4PMACWBJ2CXVX2KID3WQOONPKZX2UL4J6ODMIRFCYOB3Z3C44UZ</code></a></li>
</ul>
<br />
<h2>license</h2>
<p><strong>red-g</strong> is released under the Apache License, Version 2.0. See the
<a href="https://github.com/drmats/red-g/blob/master/LICENSE">LICENSE</a>
for more details.</p></article>
    </section>






</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.2</a> on Tue Feb 27 2024 19:14:19 GMT+0100 (Central European Standard Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>